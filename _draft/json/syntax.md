# Синтаксис и базовые правила

Для тех, кто работал, или немного знаком с языком **Javascript**, не составит труда разобраться с синтаксисом и устройством формата JSON.

<!-- br: -->

В общем виде, JSON предназначен для описания сущностей в Объектно-Ориентированном стиле.
Все атрибуты (характеристики, свойства) описываемого объекта должны быть заключены в `{}`.

Например, `{}` описывает пустой объект, который не содержит никаких свойств.

Названия свойств, расположенных внутри объекта, должны быть заключены в `""` (двойные кавычки).

Значения этих свойств задаются справа относительно названия свойства после символа `:` (двоеточие).

В качестве значения в JSON могут выступать следующие конструкции:
- **строка** (любая последовательность символов, заключённая в `""`)
- **число** (любое целое, либо вещественное число. Поддерживаются также знаки `+` и `-` для указания того, положительное это число, либо нет. В JSON также присутствует поддержка записи чисел в экспоненциальной форме, например `2.99792458e8`)
- **объект** (вложенный объект, содержащий свои собственные свойства, задается `{}`)
- **массив** (список значений, любой из доступных в JSON конструкций, разделенный символом `,` и закюченный в `[]`)
- **булевское значение** (может быть только `true` или `false`)
- `null` (зарезервированное ключевое слово, которое говорит о том, что свойство имеет неопределенное значение, или не содержит его вовсе)

<!-- br: -->

## Пример

Давайте попробуем описать какой-нибудь объект при помощи JSON. В качестве "жертвы" выберем кота.

![cat](https://imagesvc.meredithcorp.io/v3/jumpstartpure/image?url=https://cf-images.us-east-1.prod.boltdns.net/v1/static/6157254766001/0779af9a-12bb-4893-aaa8-e82f7048e2e0/48de5193-4610-4378-92a1-23aba74bf1b0/1280x720/match/image.jpg&w=1280&h=720&q=90&c=cc)

<!-- br: -->

У кота есть цвет (`color`) и, будем надеятся, имя (`name`). Обе эти характеристики мы должны заключить в `{}` объекта **КОТ**, дав им название (желательно на английском) и указав им значения. В данном случае, в качестве значений будут выступать **строки**.

```json
{
    "name": "Tom",
    "color": "white"
}
```

> Обратите внимание, что все свойства внутри объекта разделяются между собой символом `,`.

<!-- br: -->

Далее укажем коту возраст (`age`) и вес (`weight`). Обе эти характеристики будут **числовыми**.

```json
{
    "name": "Tom",
    "color": "white",
    "age": 3,
    "weight": 2.8
}
```

> Обратите внимание, что все значения кроме строковых, **НЕ** берутся в `""` (двойные кавычки).

<!-- br: -->

У кота есть хозяин (`owner`). Давайте добавим информацию и о нем: его имя (`name`), возраст (`age`) и пол (`gender`).

Проблема состоит в том, что мы не может поместить все эти поля в одно значение... Или можем?!

```json
{
    "name": "Tom",
    "color": "white",
    "age": 3,
    "weight": 2.8,
    "owner": {
        "name": "John Smith",
        "age": 39,
        "gender": "male"
    }
}
```

Как видите, в качестве значения свойства может выступать другой объект, что значительно упрощает структурирование любого JSON документа.

<!-- br: -->

Скажем, было бы неплохо добавить коту список еды (`food`), которой он любит полакомиться.

Для этого используем **массив**, чтобы поместить в него сразу несколько значений.

```json
{
    "name": "Tom",
    "color": "white",
    "age": 3,
    "weight": 2.8,
    "owner": {
        "name": "John Smith",
        "age": 39,
        "gender": "male"
    },
    "food": ["fish", "milk", "meat"]
}
```

> В JSON нет строгого правила, чтобы в массиве располагались элементы только одного типа. Например, массив `[123, "hello", true]` является валидным с точки зрения документации. Однако, если вы будуте преобразовывать такой массив в строготипизированном языке, вроде Java, то на этапе преобразования, возникнет ошибка, т.к. многие языки не поддерживают наличие разнотипных элементов в массиве.

<!-- br: -->

Наш кот любит играть. И наверняка у него есть любимая игрушка (`hasFavoriteToy`). И как любой кот, наш не либит купаться (`likesWash`).

Давайте отразим это через JSON:

```json
{
    "name": "Tom",
    "color": "white",
    "age": 3,
    "weight": 2.8,
    "owner": {
        "name": "John Smith",
        "age": 39,
        "gender": "male"
    },
    "food": ["fish", "milk", "meat"],
    "hasFavoriteToy": true,
    "likesWash": false
}
```

<!-- br: -->

Коты очень фотогеничны. Но наш кот - исключение. Мы бы могли добавить новое поле, в котором бы в качестве значения указали ссылку на его фото в `Catogram`, но вместо это придется довольствоваться значением `null` (неопределено).

```json
{
    "name": "Tom",
    "color": "white",
    "age": 3,
    "weight": 2.8,
    "owner": {
        "name": "John Smith",
        "age": 39,
        "gender": "male"
    },
    "food": ["fish", "milk", "meat"],
    "hasFavoriteToy": true,
    "likesWash": false,
    "photo": null
}
```

Вот так будет выглядет окончательный вариант `JSON` для кота:

<!-- code: {
    "lang":    "json",
    "content": "{\n\t\"name\": \"Tom\",\n\t\"color\": \"white\",\n\t\"age\": 3,\n\t\"weight\": 2.8,\n\t\t\"owner\": {\n\t\t\"name\": \"John Smith\",\n\t\t\"age\": 39,\n\t\t\"gender\": \"male\"\n\t},\n\t\"food\": [\"fish\", \"milk\", \"meat\"],\n\t\"hasFavoriteToy\": true,\n\t\"likesWash\": false,\n\t\"photo\": null\n}"
} -->

Как видите, нет абсолютно ничего сложного в описании и понимании JSON. Самое главное - следить за правильной расстановкой запятых для разделения свойств объекта, и не забывать, что названия свойств берутся в двойные кавычки.

<!-- br: -->

Но что, если нам необходимо описать сразу несколько объектов? Например, мы хотим описать список языков программирования, который будет возвращать наш сервер по запросу. Если за один запрос мы сможем указать JSON с описанием только одного языка, то чтобы получить их все, необходимо будет сделать огромное количество запросов, чего сервер может просто не выдержать...

Для этого в качестве `"корневого"` элемента в JSON может выступать массив (`[...]`).

Например, такой JSON будет абсолютно валидным с точки зрения документации:

```json
[1, 2, 3, 67, -8, 90]
```

И такой:

```json
[true, false, false, true]
```

И даже такой:

```json
[
    {
        "language": "Java",
        "creationYear": 1995
    },
    {
        "language": "Python",
        "creationYear": 1991
    },
    {
        "language": "Kotlin",
        "creationYear": 2010
    }
]
```

<!-- br: -->

## Лицензия

[MIT](https://github.com/MonkeyBuisness/alphabet/blob/master/LICENSE)

<!-- br: -->

## Ссылки

- [Онлайн редактор для валидации и форматирования JSON](https://jsonformatter.curiousconcept.com/)
- [Типы данных в JSON](https://www.tutorialspoint.com/json/json_data_types.htm)
- [Список публичных API для обмена данными с сервером в формате JSON](https://github.com/public-apis/public-apis)
- [Работа с JSON в JavaScript](https://learn.javascript.ru/json)
- [Пример конвертации XML в JSON](https://json.org/example.html)

<!-- author:[
    {
	    "name":   "Artsem Hutarau",
	    "link":   "https://github.com/MonkeyBuisness",
	    "avatar": "https://github.com/MonkeyBuisness/alphabet/raw/master/.github/assets/me.jpg",
	    "about":  "Go developer, IT teacher"
    }
] -->
